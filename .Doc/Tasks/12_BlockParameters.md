# #12 Параметры блоков

## Goal
Добавить возможность задавать параметры к блокам через UI выпадающего списка. Начать с числовых параметров: добавить параметр "Количество повторений" к командам MoveForward, MoveBackward, TurnLeft, TurnRight.

**Пример:**
```
┌─ MoveForward ──────┐
│ Distance: [1] [v] │  ← выпадающий список
└────────────────────┘
```

## Context
- Блоки уже имеют визуальное представление (BlockUI)
- ICommand есть, но нет поддержки параметров
- Нужно добавить способ хранения, передачи и отображения параметров
- Для начала только числовые параметры (количество повторений)

## Key Steps

1. **Создать структуру Parameter в Core**
   - Название параметра (string name)
   - Тип параметра (enum: Number, String, Boolean, Vector)
   - Текущее значение (object value или int)
   - Возможные значения (для выпадающего списка)
   - Label для отображения в UI

2. **Добавить параметры в ICommand интерфейс**
   - Добавить `List<Parameter> GetParameters()` метод
   - Добавить `void SetParameterValue(string paramName, object value)` метод
   - BaseCommand реализует это пустыми по умолчанию

3. **Добавить параметр "Количество повторений" к базовым командам**
   - MoveForward, MoveBackward, TurnLeft, TurnRight
   - Параметр может быть 1, 2, 3, 5, 10 (выпадающий список)
   - По умолчанию = 1 (как было сейчас)
   - Хранить значение в команде

4. **Создать ParameterUI компонент**
   - Отображает параметры на блоке в UI
   - Показывает Label + Dropdown для выбора значения
   - При изменении значения обновляет команду через SetParameterValue()
   - Располагается под названием блока

5. **Интегрировать ParameterUI в BlockUI**
   - При создании блока проверить есть ли параметры
   - Создать ParameterUI для каждого параметра
   - Расположить внутри блока (под label)

6. **Обновить логику выполнения команд**
   - CommandExecutor учитывает параметр "Количество повторений"
   - Команда выполняется N раз (в цикле или через повторные Execute)
   - Debug логи показывают [REPEAT COUNT: N]

7. **Тестирование**
   - Перетащить блок в ProgramArea
   - Выбрать параметр "Количество повторений" = 3
   - Запустить программу
   - Проверить логи что команда выполняется 3 раза
   - Проверить что робот движется правильное расстояние/угол

## Acceptance Criteria
- [ ] Parameter структура создана
- [ ] ICommand поддерживает GetParameters() и SetParameterValue()
- [ ] BaseCommand реализует параметры
- [ ] MoveForward/MoveBackward/TurnLeft/TurnRight имеют параметр "Количество повторений"
- [ ] ParameterUI отображается в BlockUI
- [ ] Выпадающий список работает и обновляет команду
- [ ] Команда выполняется N раз в соответствии с параметром
- [ ] Debug логи показывают параметры и количество повторений

## Blockers & Risks
- Нужно решить как хранить значения параметров при сохранении/загрузке программы
- Нужно решить как отображать параметры в cramped пространстве блока
- Параметры для циклов (#11) могут требовать дополнительной работы

## Notes
- Для начала только список фиксированных значений (1, 2, 3, 5, 10)
- Потом можно будет добавить текстовое поле для произвольных значений
- Потом можно расширить на другие типы параметров (String, Boolean, Vector)
- Параметры могут быть опциональные (блок работает и без параметра)
- Можно сделать "advanced" параметры с дефолтными значениями

## Дальнейшая работа (вне этой задачи)
- После реализации базовых параметров можно:
  - Добавить параметры к LoopCommand (количество повторений цикла)
  - Добавить текстовые параметры
  - Сохранение/загрузка параметров в файл
  - Визуальный редактор параметров с валидацией
