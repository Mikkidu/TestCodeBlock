# Задача #8: GameManager и интеграция

## Цель
Связать все системы воедино: UI → Execution → Robot. Добавить управление и финальное тестирование.

## Контекст
Зависит от: Всех задач #1-7
Это финальная интеграция всей системы в рабочий прототип.

## Ключевые шаги
1. Создать `Managers/GameManager.cs`:
   - Поля: RobotController robot, CommandExecutor executor, ProgramArea programArea
   - RunProgram() - получить sequence, сбросить робота, запустить executor
   - StopProgram() - остановить executor и robot
   - ResetProgram() - вернуть робота в начало
   - Подписаться на события executor (OnCommandStarted, OnCommandCompleted, etc)

2. Создать UI элементы управления:
   - Button "Run Program"
   - Button "Stop"
   - Button "Reset"
   - Text field для сообщений об ошибках

3. Добавить визуальный feedback:
   - Подсветка текущего выполняемого блока в UI
   - Вывод статуса выполнения
   - Отображение ошибок при невозможности выполнить команду

4. Полная сборка в сцене:
   - Робот в центре (3D вид)
   - UI слева (палитра блоков)
   - UI по центру (рабочая область программы)
   - UI справа (кнопки управления)

5. End-to-end тестирование:
   - Собрать программу из 6+ блоков
   - Нажать Run
   - Следить за выполнением каждой команды
   - Робот должен выполнить всю последовательность
   - Проверить Stop и Reset

## Критерии завершения
- [ ] GameManager создан и назначен в сцене
- [ ] Все элементы UI (кнопки, текст) созданы
- [ ] RunProgram получает программу и запускает executor
- [ ] Текущая команда подсвечивается при выполнении
- [ ] Ошибки отображаются пользователю
- [ ] StopProgram останавливает выполнение
- [ ] ResetProgram возвращает робота в начало
- [ ] End-to-end тестирование: 6+ блоков выполняются последовательно
- [ ] Робот плавно движется и поворачивается
- [ ] Нет ошибок в Console при выполнении программы

## Проверочный чеклист функциональности
- [ ] Робот двигается вперёд на 1 unit
- [ ] Робот двигается назад на 1 unit
- [ ] Робот поворачивает влево на 90°
- [ ] Робот поворачивает вправо на 90°
- [ ] Анимация движения плавная (lerp)
- [ ] Блоки можно перетаскивать из палитры
- [ ] Блоки привязываются друг к другу
- [ ] Программа выполняется последовательно
- [ ] Кнопка Stop останавливает выполнение
- [ ] Кнопка Reset возвращает робота в начало
- [ ] Текущий блок подсвечивается при выполнении
